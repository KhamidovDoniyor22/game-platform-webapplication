extends layout

block content
  h1.text-center.mb-4 All Games
  .row.row-cols-1.row-cols-md-2.row-cols-lg-3.g-4
    each game in games
      .col
        .card.h-100.d-flex.flex-column.justify-content-between
          .card-body.d-flex.flex-column.align-items-center.text-center
            // Use the unique placeholder or game image
            - var imageSrc = game.imageUrl ? game.imageUrl : "/images/game-" + game.id + ".png"
            img(src=imageSrc, alt=game.title, class="img-fluid mb-3", style="max-height: 200px; object-fit: cover;")

            h5.card-title.mt-2= game.title
            p.card-text.mb-2= game.description.substring(0, 100) + "..."
            - const maxStars = 5;
            - const filledStars = Math.round(game.rating);
            - const emptyStars = maxStars - filledStars;
            - const starsString = '★'.repeat(filledStars) + '☆'.repeat(emptyStars);
            p.card-text.text-warning.mt-2 Rating: #{starsString}
          .card-footer.text-center
            a.btn.btn-primary(href=`/games/${game.id}`) View Game
